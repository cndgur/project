SET DEFINE OFF;

DROP TABLE TB_ROOM CASCADE CONSTRAINTS;
DROP TABLE TB_ROOM_BOOKING CASCADE CONSTRAINTS;
DROP TABLE TB_BUSINESS CASCADE CONSTRAINTS;
DROP TABLE TB_PICTURE CASCADE CONSTRAINTS;
DROP TABLE TB_MEMBER CASCADE CONSTRAINTS;
DROP TABLE TB_REVIEW CASCADE CONSTRAINTS;
DROP TABLE TB_TOUR_PICTURE CASCADE CONSTRAINTS;
DROP TABLE TB_TOUR CASCADE CONSTRAINTS;
DROP TABLE TB_WISHLIST CASCADE CONSTRAINTS;
DROP TABLE TB_RENTCAR CASCADE CONSTRAINTS;
DROP TABLE TB_CAR_BOOKING CASCADE CONSTRAINTS;
DROP TABLE TB_CATEGORY CASCADE CONSTRAINTS;

CREATE TABLE TB_ROOM (
	ROOM_NUM NUMBER NOT NULL,
	ROOM_MAX NUMBER NOT NULL,
	ROOM_NAME VARCHAR2(255) NOT NULL,
	ROOM_PRICE NUMBER NOT NULL,
	CHECKIN VARCHAR2(255) NOT NULL,
	CHECKOUT VARCHAR2(255) NOT NULL,
	ROOM_INFO VARCHAR2(255) NOT NULL,
	BU_ID VARCHAR2(255) NOT NULL,
	PRIMARY KEY (ROOM_NUM)
);

CREATE TABLE TB_ROOM_BOOKING (
	BOOKING_NUM VARCHAR2(255) NOT NULL,
	ROOM_NUM NUMBER NOT NULL,
	EMAIL VARCHAR2(255) NOT NULL,
	CHECKIN DATE NOT NULL,
	CHECKOUT DATE NOT NULL,
	STATUS NUMBER NOT NULL,
	PAYMENT VARCHAR2(255) NOT NULL,
	PRICE VARCHAR2(255) NOT NULL,
	FIELD10 VARCHAR2(255) NOT NULL,
	PRIMARY KEY (BOOKING_NUM)
);

CREATE TABLE TB_PICTURE (
	LOCATION VARCHAR2(255) NOT NULL,
	ROOM_NUM NUMBER NULL,
	BU_ID VARCHAR2(255) NULL,
	PRIMARY KEY (LOCATION)
);

CREATE TABLE TB_MEMBER (
    USER_ID VARCHAR2(255) NOT NULL,
    USER_PWD VARCHAR2(255) NOT NULL,
    USER_NAME VARCHAR2(255) NOT NULL,
    EMAIL VARCHAR2(255) NOT NULL,
    TEL VARCHAR2(255) NOT NULL,
    BIRTHDAY VARCHAR2(255),
    GENDER VARCHAR2(2),
    ENROLL_DATE DATE,
    MODIFY_DATE DATE,
    STATUS VARCHAR2(2) DEFAULT 'Y',
	PRIMARY KEY (USER_ID)
);

CREATE TABLE TB_BUSINESS (
	BU_ID VARCHAR2(255) NOT NULL,
    BU_PWD VARCHAR2(255) NOT NULL,
	EMAIL VARCHAR2(255) NOT NULL,
	BU_TEL VARCHAR2(255) NOT NULL,
	BU_ADDRESS VARCHAR2(255) NOT NULL,
	BU_TITLE VARCHAR2(255) NOT NULL,
    ENROLL_DATE DATE,
    MODIFY_DATE DATE,
    STATUS VARCHAR2(2) DEFAULT 'Y',
	PRIMARY KEY (BU_ID)
);

CREATE TABLE TB_REVIEW (
	REV_NUM NUMBER NOT NULL,
	EMAIL2 VARCHAR2(255) NOT NULL,
	AC_NAME VARCHAR2(255) NOT NULL,
	CONTENT VARCHAR2(255) NOT NULL,
	REVIEW_DATE DATE NOT NULL,
	SCORE NUMBER NOT NULL,
	PRIMARY KEY (REV_NUM)
);

CREATE TABLE TB_TOUR_PICTURE (
	LOCATION VARCHAR2(255) NOT NULL,
	AC_NAME VARCHAR2(255) NOT NULL,
	PRIMARY KEY (LOCATION)
);

CREATE TABLE TB_TOUR (
	AC_NAME VARCHAR2(255) NOT NULL,
	AC_ADDRESS VARCHAR2(255) NOT NULL,
	TR_INFO VARCHAR2(4000) NOT NULL,
    MAP_INFO VARCHAR2(4000) NOT NULL,
	ACT_ID VARCHAR2(255) NOT NULL,
	CNT NUMBER NOT NULL,
	PRIMARY KEY (AC_NAME)
);

CREATE TABLE TB_WISHLIST (
	AC_NAME VARCHAR2(255) NOT NULL,
	EMAIL VARCHAR2(255) NOT NULL,
	PRIMARY KEY (AC_NAME, EMAIL)
);

CREATE TABLE TB_RENTCAR (
	CAR_NUM VARCHAR2(255) NOT NULL,
	CAR_ID VARCHAR2(255) NOT NULL,
	CAR_NAME VARCHAR2(255) NOT NULL,
	CAR_PRICE NUMBER NOT NULL,
	CAR_INFO VARCHAR2(255) NULL,
	PRIMARY KEY (CAR_NUM)
);

CREATE TABLE TB_CAR_BOOKING (
	CAR_NUM VARCHAR2(255) NOT NULL,
	CAR_RECIEVE_PLACE VARCHAR2(255) NOT NULL,
	CAR_RETURN_PLACE VARCHAR2(255) NOT NULL,
	CAR_TIME_START DATE NOT NULL,
	CAR_TIME_OVER DATE NOT NULL,
	EMAIL VARCHAR2(255) NOT NULL,
	PRIMARY KEY (CAR_NUM)
);

CREATE TABLE TB_CATEGORY (
	AC_NAME VARCHAR2(255) NOT NULL,
	CATEGORY VARCHAR2(255) NOT NULL,
	PRIMARY KEY (AC_NAME, CATEGORY)
);

INSERT INTO TB_MEMBER (EMAIL, PASSWORD, TEL, NAME, BIRTHDAY, GENDER, ENROLL_DATE, MODIFY_DATE, STATUS)
VALUES ('user1@example.com', '1234', '010-1234-5678', '사용자1', '1990-01-01', 'M', SYSDATE, SYSDATE, 'Y');
INSERT INTO TB_MEMBER (EMAIL, PASSWORD, TEL, NAME, USER_ID, USER_PWD, BIRTHDAY, GENDER, ENROLL_DATE, MODIFY_DATE, STATUS)
VALUES ('user2@example.com', '1234', '010-2345-6789', '사용자2', '1992-02-02', 'F', SYSDATE, SYSDATE, 'Y');
INSERT INTO TB_MEMBER (EMAIL, PASSWORD, TEL, NAME, USER_ID, USER_PWD, BIRTHDAY, GENDER, ENROLL_DATE, MODIFY_DATE, STATUS)
VALUES ('user3@example.com', '1234', '010-3456-7890', '사용자3', '1994-03-03', 'M', SYSDATE, SYSDATE, 'Y');

-- TB_ROOM 테이블에 데이터 삽입
-- 방 번호 1, 2, 3에 각각 다른 방 정보를 추가
INSERT INTO TB_ROOM (ROOM_NUM, ROOM_MAX, ROOM_NAME, ROOM_PRICE, CHECKIN, CHECKOUT, ROOM_INFO, BU_ID)
VALUES (1, 2, '오션뷰 스위트', 150000, '14:00', '12:00', '넓은 오션뷰 객실', 'B001');
INSERT INTO TB_ROOM (ROOM_NUM, ROOM_MAX, ROOM_NAME, ROOM_PRICE, CHECKIN, CHECKOUT, ROOM_INFO, BU_ID)
VALUES (2, 3, '산장', 120000, '15:00', '11:00', '아늑한 산장', 'B002');
INSERT INTO TB_ROOM (ROOM_NUM, ROOM_MAX, ROOM_NAME, ROOM_PRICE, CHECKIN, CHECKOUT, ROOM_INFO, BU_ID)
VALUES (3, 4, '럭셔리 빌라', 250000, '13:00', '11:00', '개인 수영장이 있는 럭셔리 빌라', 'B003');

-- TB_ROOM_BOOKING 테이블에 데이터 삽입
-- 예약 번호 3건에 대해 각각 다른 예약 정보를 추가
INSERT INTO TB_ROOM_BOOKING (BOOKING_NUM, ROOM_NUM, EMAIL, CHECKIN, CHECKOUT, STATUS, PAYMENT, PRICE, FIELD10)
VALUES ('BKG001', 1, 'user1@example.com', TO_DATE('2024-09-20', 'YYYY-MM-DD'), TO_DATE('2024-09-22', 'YYYY-MM-DD'), 1, '카드', '150000', '메모');
INSERT INTO TB_ROOM_BOOKING (BOOKING_NUM, ROOM_NUM, EMAIL, CHECKIN, CHECKOUT, STATUS, PAYMENT, PRICE, FIELD10)
VALUES ('BKG002', 2, 'user2@example.com', TO_DATE('2024-09-23', 'YYYY-MM-DD'), TO_DATE('2024-09-24', 'YYYY-MM-DD'), 1, '현금', '120000', '메모');
INSERT INTO TB_ROOM_BOOKING (BOOKING_NUM, ROOM_NUM, EMAIL, CHECKIN, CHECKOUT, STATUS, PAYMENT, PRICE, FIELD10)
VALUES ('BKG003', 3, 'user3@example.com', TO_DATE('2024-09-25', 'YYYY-MM-DD'), TO_DATE('2024-09-27', 'YYYY-MM-DD'), 2, '카드', '250000', '메모');

-- TB_BUSINESS 테이블에 데이터 삽입
-- 사업체 3개의 정보를 추가
INSERT INTO TB_BUSINESS (BU_ID, BU_PWD, EMAIL, BU_TEL, BU_ADDRESS, BU_TITLE, ENROLL_DATE, MODIFY_DATE)
VALUES ('B001', '1234', 'business1@example.com', '010-1234-5678', '서울시 강남구', '호텔 오션뷰', SYSDATE, SYSDATE);
INSERT INTO TB_BUSINESS (BU_ID, BU_PWD, EMAIL, BU_TEL, BU_ADDRESS, BU_TITLE, ENROLL_DATE, MODIFY_DATE)
VALUES ('B002', '1234', 'business2@example.com', '010-2345-6789', '서울시 서초구', '산장 리조트', SYSDATE, SYSDATE);
INSERT INTO TB_BUSINESS (BU_ID, BU_PWD, EMAIL, BU_TEL, BU_ADDRESS, BU_TITLE, ENROLL_DATE, MODIFY_DATE)
VALUES ('B003', '1234','business3@example.com', '010-3456-7890', '서울시 종로구', '럭셔리 빌라', SYSDATE, SYSDATE);

-- TB_PICTURE 테이블에 데이터 삽입
-- 각 사진의 위치와 관련된 방 또는 사업체 정보를 추가
INSERT INTO TB_PICTURE (LOCATION, ROOM_NUM, BU_ID)
VALUES ('/images/oceanview.jpg', 1, 'B001');
INSERT INTO TB_PICTURE (LOCATION, ROOM_NUM, BU_ID)
VALUES ('/images/mountain.jpg', 2, 'B002');
INSERT INTO TB_PICTURE (LOCATION, ROOM_NUM, BU_ID)
VALUES ('/images/villa.jpg', 3, 'B003');


-- TB_MEMBER 테이블에 데이터 삽입
-- 3명의 회원 정보를 추가
INSERT INTO TB_MEMBER (EMAIL, PASSWORD, TEL, NAME)
VALUES ('user1@example.com', 'password123', '010-1111-2222', '홍길동');
INSERT INTO TB_MEMBER (EMAIL, PASSWORD, TEL, NAME)
VALUES ('user2@example.com', 'password234', '010-2222-3333', '이순신');
INSERT INTO TB_MEMBER (EMAIL, PASSWORD, TEL, NAME)
VALUES ('user3@example.com', 'password345', '010-3333-4444', '유관순');

-- TB_REVIEW 테이블에 데이터 삽입
-- 각 투어에 대한 리뷰 3건을 추가
INSERT INTO TB_REVIEW (REV_NUM, EMAIL2, AC_NAME, CONTENT, REVIEW_DATE, SCORE)
VALUES (1, 'user1@example.com', '오션뷰 투어', '정말 멋진 여행이었어요!', TO_DATE('2024-09-10', 'YYYY-MM-DD'), 5);
INSERT INTO TB_REVIEW (REV_NUM, EMAIL2, AC_NAME, CONTENT, REVIEW_DATE, SCORE)
VALUES (2, 'user2@example.com', '산장 투어', '자연이 너무 아름다웠어요.', TO_DATE('2024-09-12', 'YYYY-MM-DD'), 4);
INSERT INTO TB_REVIEW (REV_NUM, EMAIL2, AC_NAME, CONTENT, REVIEW_DATE, SCORE)
VALUES (3, 'user3@example.com', '럭셔리 빌라 투어', '최고의 서비스였어요!', TO_DATE('2024-09-15', 'YYYY-MM-DD'), 5);

-- TB_TOUR_PICTURE 테이블에 데이터 삽입
-- 투어와 관련된 사진 정보 3건 추가
INSERT INTO TB_TOUR_PICTURE (LOCATION, AC_NAME)
VALUES ('/tour/ocean.jpg', '오션뷰 투어');
INSERT INTO TB_TOUR_PICTURE (LOCATION, AC_NAME)
VALUES ('/tour/mountain.jpg', '산장 투어');
INSERT INTO TB_TOUR_PICTURE (LOCATION, AC_NAME)
VALUES ('/tour/villa.jpg', '럭셔리 빌라 투어');
INSERT INTO TB_TOUR_PICTURE (LOCATION, AC_NAME)
VALUES ('/pic/구서도역.jpg', '구 서도역');
INSERT INTO TB_TOUR_PICTURE (LOCATION, AC_NAME)
VALUES ('/pic/태하중도생태공원.png', '태하중도생태공원');

-- TB_TOUR 테이블에 데이터 삽입
-- 3개의 투어 정보를 추가
INSERT INTO TB_TOUR (AC_NAME, AC_ADDRESS, TR_INFO, MAP_INFO, ACT_ID, CNT)
VALUES ('오션뷰 투어', '제주도 서귀포시', '바다를 보며 즐기는 투어', 101, 1);
INSERT INTO TB_TOUR (AC_NAME, AC_ADDRESS, TR_INFO, MAP_INFO,  ACT_ID, CNT)
VALUES ('구 서도역', '전북 남원시', '구 서도역은 1932년 조성된 우리나라에서 가장 오래된 목조건물 폐역으로, 전라선 기차역으로 산성역(하행)과 오수역(상행) 사이에 있다. 1934년 10월 1일 역무원 배치 간이역으로 영업을 시작하여 1937년 10월 1일 보통역으로 승격되었다. 2002년 10월 27일 전라선 개량공사를 하면서 현재의 위치를 신축하여 이전하였다. 2004년 7월 15일 여객 취급이 중지되었고, 2008년 7월 1일부터 역무원 무배치 간이역으로 격하되어 역무실이 폐쇄되었다. 최근 드라마 ‘미스터 선샤인’의 촬영지로 알려져 있으며, 최명희 작가 대하소설 「혼불」의 주 무대이기도 하다. 전라선 역사와 시설물로 옛 모습 그대로 보존 및 관리되고 있다. 보존된 시설물을 통해 그 시절의 역사를 느낄 수 있는 것과 동시에 자연과 기찻길이 어우러져 다양하고 감성적인 포토존을 즐길 수 있다.', '<div id="daumRoughmapContainer1727937403107" class="root_daum_roughmap root_daum_roughmap_landing" style="width: 100%"></div><script charset="UTF-8">new daum.roughmap.Lander({"timestamp" : "1727937403107","key" : "2ksug","mapWidth" : "100%","mapHeight" : "360"}).render();</script>' , '여행지', 2);
INSERT INTO TB_TOUR (AC_NAME, AC_ADDRESS, TR_INFO, MAP_INFO,  ACT_ID, CNT)
VALUES ('태하중도생태공원', '강원 춘천시', '춘천 의암호에 있는 섬, 중도에 조성한 생태공원이다. 중도는 상중도와 하중도로 나뉘는데 하중도는 선사 유적지와 레고랜드로 유명하다. 생태공원은 하중도의 남쪽에 위치한다. 하중도의 아름다운 수변 공간을 활용해 만든 생태공원으로 자연 속에서 편안하게 쉬어가기 좋은 장소다. 수변을 따라 걷는 둘레길과 섬 안을 걷는 산책로가 조성되어 있다. 군데군데 쉼터와 의자, 테이블이 있어 호수 풍경을 감상하며 휴식하기 좋다. 공원 끝쪽에는 산과 호수 풍광을 담아내는 액자 포토존도 있다. 현재 하중도는 춘천대교로 뭍과 연결돼 차로 쉽게 접근 가능하다. 소양강스카이워크, 공지천, 춘천 명동 등이 모두 자동차로 10분 거리 내 위치한다.','<div id="daumRoughmapContainer1727937355357" class="root_daum_roughmap root_daum_roughmap_landing" style="width: 100%"></div><script charset="UTF-8">new daum.roughmap.Lander({"timestamp" : "1727937355357","key" : "2ksuf","mapWidth" : "100%","mapHeight" : "360"}).render();</script>', '여행지', 3);

-- TB_WISHLIST 테이블에 데이터 삽입
-- 3명의 사용자가 관심있는 투어를 추가
INSERT INTO TB_WISHLIST (AC_NAME, EMAIL)
VALUES ('오션뷰 투어', 'user1@example.com');
INSERT INTO TB_WISHLIST (AC_NAME, EMAIL)
VALUES ('산장 투어', 'user2@example.com');
INSERT INTO TB_WISHLIST (AC_NAME, EMAIL)
VALUES ('럭셔리 빌라 투어', 'user3@example.com');

-- TB_RENTCAR 테이블에 데이터 삽입
-- 렌트카 정보 3건 추가
INSERT INTO TB_RENTCAR (CAR_NUM, CAR_ID, CAR_NAME, CAR_PRICE, CAR_INFO)
VALUES ('CAR001', 'R001', '쏘나타', 70000, '준중형 세단');
INSERT INTO TB_RENTCAR (CAR_NUM, CAR_ID, CAR_NAME, CAR_PRICE, CAR_INFO)
VALUES ('CAR002', 'R002', '카니발', 120000, '대형 밴');
INSERT INTO TB_RENTCAR (CAR_NUM, CAR_ID, CAR_NAME, CAR_PRICE, CAR_INFO)
VALUES ('CAR003', 'R003', '아반떼', 60000, '소형 세단');

-- TB_CAR_BOOKING 테이블에 데이터 삽입
-- 렌트카 예약 정보 3건 추가
INSERT INTO TB_CAR_BOOKING (CAR_NUM, CAR_RECIEVE_PLACE, CAR_RETURN_PLACE, CAR_TIME_START, CAR_TIME_OVER, EMAIL)
VALUES ('CAR001', '제주공항', '제주공항', TO_DATE('2024-09-20', 'YYYY-MM-DD'), TO_DATE('2024-09-22', 'YYYY-MM-DD'), 'user1@example.com');
INSERT INTO TB_CAR_BOOKING (CAR_NUM, CAR_RECIEVE_PLACE, CAR_RETURN_PLACE, CAR_TIME_START, CAR_TIME_OVER, EMAIL)
VALUES ('CAR002', '서울역', '서울역', TO_DATE('2024-09-23', 'YYYY-MM-DD'), TO_DATE('2024-09-25', 'YYYY-MM-DD'), 'user2@example.com');
INSERT INTO TB_CAR_BOOKING (CAR_NUM, CAR_RECIEVE_PLACE, CAR_RETURN_PLACE, CAR_TIME_START, CAR_TIME_OVER, EMAIL)
VALUES ('CAR003', '김포공항', '김포공항', TO_DATE('2024-09-26', 'YYYY-MM-DD'), TO_DATE('2024-09-28', 'YYYY-MM-DD'), 'user3@example.com');

-- TB_CATEGORY 테이블에 데이터 삽입
-- 투어 카테고리 정보 3건 추가
INSERT INTO TB_CATEGORY (AC_NAME, CATEGORY)
VALUES ('오션뷰 투어', '자연');
INSERT INTO TB_CATEGORY (AC_NAME, CATEGORY)
VALUES ('산장 투어', '힐링');
INSERT INTO TB_CATEGORY (AC_NAME, CATEGORY)
VALUES ('럭셔리 빌라 투어', '럭셔리');

--TOUR 정보 입력
INSERT INTO TB_TOUR (AC_NAME, AC_ADDRESS, TR_INFO, ACT_ID, FIELD) VALUES ('곤지암리조트','경기도 광주시 도척면 도척윗로 278-1','곤지암리조트는 다양한 스타일의 부티크 호텔형 객실을 갖춘 콘도, 경기도 최대 규모의 스키장, 국내 최초로 선보이는 체류형 스파, 건강과 문화 중심의 차별화된 프로그램 등의 다양하고 독특한 시설을 갖춘 사계절 종합리조트이다. 중부고속도로 곤지암 IC에서 4Km 거리에 위치해 서울 강남에서 불과 40분 만에 도착한다는 점이 가장 큰 매력이기도 하다. 라스베이거스 시저스 팰리스(미국), The Palace of the Lost City(남아공), 제주 롯데호텔 등 리조트 디자인 분야에서 탁월함을 인정받고 있는 WAT&G(Wimberly Allison Tong & Goo)가 설계한 곤지암리조트는 북미 스타일의 이국적이고 차별화된 분위기를 느낄 수 있다.','액티비티',1);
INSERT INTO TB_TOUR (AC_NAME, AC_ADDRESS, TR_INFO, ACT_ID, FIELD) VALUES ('마당','경기도 광주시 신현로 21','마당은 경기도 광주 오포읍 신현리 태재고개 근처에 있는 함흥냉면 전문점이다. 넓은 잔디정원 앞으로 넓은 주차장이 있어 편하게 주차를 할 수 있다. 이곳은 한옥을 개조한 식당으로 정원을 걸어 들어가면 정면에 카페가 있고 왼쪽에 건물이 식당이다. 내부는 한옥의 멋을 그대로 살린 서까래가 노출되어 있어 답답함 없이 깔끔하고 넓으며 테이블이 정갈하게 정렬되어 있다. 정원 한쪽에 대기 손님을 위한 대기 공간이 있지만 회전율이 높아 오래 기다리지 않아도 된다. 또한 당일 식사 영수증을 지참하면 식당 옆 카페에서 음료를 할인 받을 수 있다.','맛집',1);
INSERT INTO TB_TOUR (AC_NAME, AC_ADDRESS, TR_INFO, ACT_ID, FIELD) VALUES ('경기광주 한옥마을','경기도 광주시 새오개길 39 (목현동)','400년이 넘은 충남 광천의 사대부 한옥을 그대로 옮겨 복원시켰다. 1000년 수령의 느티나무와 소나무들이 한옥과 어우러져 계절마다 새로운 옷을 갈아입는다. 수려한 자연 속에서 한옥의 고즈넉한 정취를 느끼며 삶의 여유를 느껴볼 수 있다. 아웃도어 바비큐, 원데이 클래스 문화강좌, 카페, 한옥스테이, 아기 돌 촬영 스튜디오 등가족, 자연 그리고 예술에 근간을 둔 프로그램을 운영 중이다.','여행지',1);


-- ALTER TABLE Statements (Constraints)
ALTER TABLE TB_ROOM ADD CONSTRAINT FK_TB_BUSINESS_TO_TB_ROOM FOREIGN KEY (BU_ID) REFERENCES TB_BUSINESS (BU_ID);

ALTER TABLE TB_ROOM_BOOKING ADD CONSTRAINT FK_TB_ROOM_TO_TB_ROOM_BOOKING FOREIGN KEY (ROOM_NUM) REFERENCES TB_ROOM (ROOM_NUM);
ALTER TABLE TB_ROOM_BOOKING ADD CONSTRAINT FK_TB_MEMBER_TO_TB_ROOM_BOOKING FOREIGN KEY (EMAIL) REFERENCES TB_MEMBER (EMAIL);

ALTER TABLE TB_PICTURE ADD CONSTRAINT FK_TB_ROOM_TO_TB_PICTURE FOREIGN KEY (ROOM_NUM) REFERENCES TB_ROOM (ROOM_NUM);
ALTER TABLE TB_PICTURE ADD CONSTRAINT FK_TB_BUSINESS_TO_TB_PICTURE FOREIGN KEY (BU_ID) REFERENCES TB_BUSINESS (BU_ID);

ALTER TABLE TB_REVIEW ADD CONSTRAINT FK_TB_MEMBER_TO_TB_REVIEW FOREIGN KEY (EMAIL2) REFERENCES TB_MEMBER (EMAIL);
ALTER TABLE TB_REVIEW ADD CONSTRAINT FK_TB_TOUR_TO_TB_REVIEW FOREIGN KEY (AC_NAME) REFERENCES TB_TOUR (AC_NAME);

ALTER TABLE TB_TOUR_PICTURE ADD CONSTRAINT FK_TB_TOUR_TO_TB_TOUR_PICTURE FOREIGN KEY (AC_NAME) REFERENCES TB_TOUR (AC_NAME);

ALTER TABLE TB_WISHLIST ADD CONSTRAINT FK_TB_TOUR_TO_TB_WISHLIST FOREIGN KEY (AC_NAME) REFERENCES TB_TOUR (AC_NAME);
ALTER TABLE TB_WISHLIST ADD CONSTRAINT FK_TB_MEMBER_TO_TB_WISHLIST FOREIGN KEY (EMAIL) REFERENCES TB_MEMBER (EMAIL);

ALTER TABLE TB_CAR_BOOKING ADD CONSTRAINT FK_TB_RENTCAR_TO_TB_CAR_BOOKING FOREIGN KEY (CAR_NUM) REFERENCES TB_RENTCAR (CAR_NUM);
ALTER TABLE TB_CAR_BOOKING ADD CONSTRAINT FK_TB_MEMBER_TO_TB_CAR_BOOKING FOREIGN KEY (EMAIL) REFERENCES TB_MEMBER (EMAIL);

ALTER TABLE TB_CATEGORY ADD CONSTRAINT FK_TB_TOUR_TO_TB_CATEGORY FOREIGN KEY (AC_NAME) REFERENCES TB_TOUR (AC_NAME);

ALTER TABLE TB_TOUR
ADD CONSTRAINT CHK_TB_TOUR_ACT_ID
CHECK (ACT_ID IN ('맛집', '축제', '여행지', '액티비티'));

ALTER TABLE TB_MEMBER
ADD CONSTRAINT CHK_TB_MEMBER_STATUS
CHECK (STATUS IN('Y','N'));

ALTER TABLE TB_BUSINESS
ADD CONSTRAINT CHK_TB_BUSINESS_STATUS
CHECK (STATUS IN('Y','N'));
COMMIT;